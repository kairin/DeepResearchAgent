{
  "integration_tests": {
    "test_web_searcher.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_web_searcher.py",
      "description": "Integration Test: test_web_searcher.py",
      "returncode": 1,
      "stdout": "WARNING  [firecrawl] No API key provided for cloud service\nWARNING  [firecrawl] No API key provided for cloud service\nWARNING  [firecrawl] No API key provided for cloud service\n",
      "stderr": "\u001b[92m06:06:31 - logger:INFO\u001b[0m: test_web_searcher.py:44 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:06:31 - logger:INFO\u001b[0m: test_web_searcher.py:45 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:06:31 - logger:INFO\u001b[0m: test_web_searcher.py:48 - |                                      Registry of tool                                     \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Names                   \u2503 Objects                                                      \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 auto_browser_use_tool   \u2502 <class 'src.tools.auto_browser.AutoBrowserUseTool'>          \u2502\n\u2502 deep_analyzer_tool      \u2502 <class 'src.tools.deep_analyzer.DeepAnalyzerTool'>           \u2502\n\u2502 deep_researcher_tool    \u2502 <class 'src.tools.deep_researcher.DeepResearcherTool'>       \u2502\n\u2502 file_reader_tool        \u2502 <class 'src.tools.file_reader.FileReaderTool'>               \u2502\n\u2502 image_generator_tool    \u2502 <class 'src.tools.image_generator.ImageGeneratorTool'>       \u2502\n\u2502 oai_deep_research_tool  \u2502 <class 'src.tools.oai_deep_research.OAIDeepResearchTool'>    \u2502\n\u2502 planning_tool           \u2502 <class 'src.tools.planning.PlanningTool'>                    \u2502\n\u2502 python_interpreter_tool \u2502 <class 'src.tools.python_interpreter.PythonInterpreterTool'> \u2502\n\u2502 video_generator_tool    \u2502 <class 'src.tools.video_generator.VideoGeneratorTool'>       \u2502\n\u2502 web_fetcher_tool        \u2502 <class 'src.tools.web_fetcher.WebFetcherTool'>               \u2502\n\u2502 web_searcher_tool       \u2502 <class 'src.tools.web_searcher.WebSearcherTool'>             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u001b[92m06:06:31 - logger:INFO\u001b[0m: web_searcher.py:221 - \ud83d\udd0e Attempting search with Firecrawl...\nTraceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py\", line 114, in __call__\n    result = await fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/web_searcher.py\", line 318, in _perform_search_with_engine\n    for result in await engine.perform_search(\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/search/firecrawl_search.py\", line 63, in perform_search\n    results = search(params)\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/search/firecrawl_search.py\", line 20, in search\n    app = FirecrawlApp(\n        api_key=os.getenv(\"FIRECRAWL_API_KEY\"),\n    )\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/firecrawl/client.py\", line 176, in __init__\n    self._v1_client = V1FirecrawlApp(api_key=api_key, api_url=api_url) if V1FirecrawlApp else None\n                      ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/firecrawl/v1/client.py\", line 516, in __init__\n    raise ValueError('No API key provided')\nValueError: No API key provided\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/tests/integration/test_web_searcher.py\", line 55, in <module>\n    search_response = asyncio.run(web_searcher_tool.forward(\n        query=task,\n    ))\n  File \"/usr/lib/python3.13/asyncio/runners.py\", line 195, in run\n    return runner.run(main)\n           ~~~~~~~~~~^^^^^^\n  File \"/usr/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"/usr/lib/python3.13/asyncio/base_events.py\", line 719, in run_until_complete\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/web_searcher.py\", line 180, in forward\n    results = await self._try_all_engines(query, self.num_results, search_params)\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/web_searcher.py\", line 222, in _try_all_engines\n    search_items = await self._perform_search_with_engine(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        engine, query, num_results, search_params\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py\", line 189, in async_wrapped\n    return await copy(fn, *args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py\", line 111, in __call__\n    do = await self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/asyncio/__init__.py\", line 153, in iter\n    result = await action(retry_state)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/_utils.py\", line 99, in inner\n    return call(*args, **kwargs)\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/tenacity/__init__.py\", line 421, in exc_check\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x7eab9c625e50 state=finished raised ValueError>]\n",
      "duration": 8.691858530044556,
      "success": false
    },
    "test_config.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_config.py",
      "description": "Integration Test: test_config.py",
      "returncode": 0,
      "stdout": "",
      "stderr": "\u001b[92m06:06:39 - logger:INFO\u001b[0m: test_config.py:42 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:06:39 - logger:INFO\u001b[0m: test_config.py:43 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n",
      "duration": 5.313900470733643,
      "success": true
    },
    "test_researcher.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_researcher.py",
      "description": "Integration Test: test_researcher.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\nWARNING  [firecrawl] No API key provided for cloud service\nWARNING  [firecrawl] No API key provided for cloud service\nWARNING  [firecrawl] No API key provided for cloud service\nError: DeepResearchTool failed to complete the research cycle: RetryError[<Future at 0x7fa260241810 state=finished raised ValueError>]\n",
      "stderr": "\u001b[92m06:06:45 - logger:INFO\u001b[0m: test_researcher.py:45 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:06:45 - logger:INFO\u001b[0m: test_researcher.py:46 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:06:45 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:06:46 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:06:46 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:06:46 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:06:46 - logger:INFO\u001b[0m: models.py:585 - Using local proxy for LangChain models\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:678 - Using local proxy for DeepSeek models\n\u001b[92m06:06:47 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:06:47 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:06:47 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:06:47 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:06:47 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 25 models\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: test_researcher.py:51 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, deepseek-chat, deepseek-reasoner, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n\u001b[92m06:06:47 - logger:INFO\u001b[0m: test_researcher.py:54 - |                                      Registry of tool                                     \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Names                   \u2503 Objects                                                      \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 auto_browser_use_tool   \u2502 <class 'src.tools.auto_browser.AutoBrowserUseTool'>          \u2502\n\u2502 deep_analyzer_tool      \u2502 <class 'src.tools.deep_analyzer.DeepAnalyzerTool'>           \u2502\n\u2502 deep_researcher_tool    \u2502 <class 'src.tools.deep_researcher.DeepResearcherTool'>       \u2502\n\u2502 file_reader_tool        \u2502 <class 'src.tools.file_reader.FileReaderTool'>               \u2502\n\u2502 image_generator_tool    \u2502 <class 'src.tools.image_generator.ImageGeneratorTool'>       \u2502\n\u2502 oai_deep_research_tool  \u2502 <class 'src.tools.oai_deep_research.OAIDeepResearchTool'>    \u2502\n\u2502 planning_tool           \u2502 <class 'src.tools.planning.PlanningTool'>                    \u2502\n\u2502 python_interpreter_tool \u2502 <class 'src.tools.python_interpreter.PythonInterpreterTool'> \u2502\n\u2502 video_generator_tool    \u2502 <class 'src.tools.video_generator.VideoGeneratorTool'>       \u2502\n\u2502 web_fetcher_tool        \u2502 <class 'src.tools.web_fetcher.WebFetcherTool'>               \u2502\n\u2502 web_searcher_tool       \u2502 <class 'src.tools.web_searcher.WebSearcherTool'>             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u001b[92m06:06:59 - logger:WARNING\u001b[0m: deep_researcher.py:336 - DeepResearchTool failed to generate optimized query: ChatMessage(role='assistant', content='\"Atlantic Puffin Fratercula arctica Wikipedia revision history before 2020 visual edit tags\"', tool_calls=None, raw=ChatCompletionOutput(choices=[ChatCompletionOutputComplete(finish_reason='stop', index=0, message=ChatCompletionOutputMessage(role='assistant', content='\"Atlantic Puffin Fratercula arctica Wikipedia revision history before 2020 visual edit tags\"', tool_call_id=None, tool_calls=None), logprobs=None)], created=1758060416742, id='7ddd1989-52b5-41b7-b0ed-e36add1e9cc0', model='Qwen/Qwen2.5-32B-Instruct', system_fingerprint='', usage=ChatCompletionOutputUsage(completion_tokens=24, prompt_tokens=90, total_tokens=114), object='chat.completion'), token_usage=TokenUsage(input_tokens=90, output_tokens=24, total_tokens=114))\n\u001b[92m06:06:59 - logger:INFO\u001b[0m: deep_researcher.py:364 - DeepResearchTool Research cycle at depth 1 - Query: Atlantic Puffin Fratercula arctica Wikipedia page revision history visual edit tags before 2020\n\u001b[92m06:06:59 - logger:INFO\u001b[0m: web_searcher.py:221 - \ud83d\udd0e Attempting search with Firecrawl...\n\u001b[92m06:07:02 - logger:ERROR\u001b[0m: deep_researcher.py:288 - DeepResearchTool failed to complete the research cycle: RetryError[<Future at 0x7fa260241810 state=finished raised ValueError>]\n",
      "duration": 22.361069202423096,
      "success": true
    },
    "test_messages.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_messages.py",
      "description": "Integration Test: test_messages.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\n",
      "stderr": "\u001b[92m06:07:07 - logger:INFO\u001b[0m: test_messages.py:62 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:07:07 - logger:INFO\u001b[0m: test_messages.py:63 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:07:07 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:605 - Using remote API for LangChain models\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:181 - Local API key OPENAI_API_KEY is not set, using remote API key OPENAI_API_KEY\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:188 - Local API base OPENAI_API_BASE is not set, using remote API base OPENAI_API_BASE\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:718 - DeepSeek models are not supported in remote API mode.\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:07:09 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 23 models\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: test_messages.py:69 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: test_messages.py:49 - | Single Text Message: [\n    {\n        \"role\": \"user\",\n        \"content\": \"What is the capital of France?\"\n    }\n]\n\u001b[92m06:07:09 - logger:INFO\u001b[0m: test_messages.py:49 - | Multiple Text Messages: [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of France?\"\n            },\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of Germany?\"\n            }\n        ]\n    }\n]\n\u001b[92m06:07:10 - logger:INFO\u001b[0m: test_messages.py:49 - | Single Text Message with Image: [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of France?\"\n            },\n            {\n                \"type\": \"image_url\",\n                \"image_url\": {\n                    \"url\": \"data:image/png;base64,iVBORw0K...\"\n                }\n            }\n        ]\n    }\n]\n\u001b[92m06:07:10 - logger:INFO\u001b[0m: test_messages.py:49 - | Single Text Message with Image (No Convert): [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of France?\"\n            },\n            {\n                \"type\": \"image\",\n                \"image\": \"iVBORw0KGgoAAAANSUhEUgAAEccAAA...\"\n            }\n        ]\n    }\n]\n\u001b[92m06:07:10 - logger:INFO\u001b[0m: test_messages.py:49 - | Single Text Message with Response API: [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of France?\"\n            }\n        ]\n    }\n]\n\u001b[92m06:07:10 - logger:INFO\u001b[0m: test_messages.py:49 - | Multiple Text Messages with Response API: [\n    {\n        \"role\": \"user\",\n        \"content\": [\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of France?\"\n            },\n            {\n                \"type\": \"text\",\n                \"text\": \"What is the capital of Germany?\"\n            }\n        ]\n    }\n]\n",
      "duration": 8.265462160110474,
      "success": true
    },
    "test_mdconverter.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_mdconverter.py",
      "description": "Integration Test: test_mdconverter.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\nNone\n",
      "stderr": "\u001b[92m06:07:15 - logger:INFO\u001b[0m: test_mdconverter.py:47 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:07:15 - logger:INFO\u001b[0m: test_mdconverter.py:48 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:07:15 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:585 - Using local proxy for LangChain models\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:678 - Using local proxy for DeepSeek models\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:07:17 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 25 models\n\u001b[92m06:07:17 - logger:INFO\u001b[0m: test_mdconverter.py:53 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, deepseek-chat, deepseek-reasoner, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n\u001b[92m06:07:17 - logger:ERROR\u001b[0m: mdconvert.py:172 - Error during conversion: 404 Client Error: Not Found for url: https://www.theguardian.com/food/2021/may/01/yotam-ottolenghis-recipes-for-takeaway-classics\n",
      "duration": 7.328063011169434,
      "success": true
    },
    "test_analyzer.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_analyzer.py",
      "description": "Integration Test: test_analyzer.py",
      "returncode": 1,
      "stdout": "",
      "stderr": "Traceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/tests/integration/test_analyzer.py\", line 25, in <module>\n    deep_analyzer = DeepAnalyzerTool()\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/tools.py\", line 67, in new_init\n    original_init(self, *args, **kwargs)\n    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/deep_analyzer.py\", line 70, in __init__\n    for model_id in self.analyzer_model_ids\n                    ^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: 'NoneType' object is not iterable\n",
      "duration": 5.599250793457031,
      "success": false
    },
    "test_web_fetcher.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_web_fetcher.py",
      "description": "Integration Test: test_web_fetcher.py",
      "returncode": 1,
      "stdout": "WARNING  [firecrawl] No API key provided for cloud service\n",
      "stderr": "\u001b[92m06:07:28 - logger:INFO\u001b[0m: test_web_fetcher.py:44 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:07:28 - logger:INFO\u001b[0m: test_web_fetcher.py:45 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:07:28 - logger:INFO\u001b[0m: test_web_fetcher.py:48 - |                                      Registry of tool                                     \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Names                   \u2503 Objects                                                      \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 auto_browser_use_tool   \u2502 <class 'src.tools.auto_browser.AutoBrowserUseTool'>          \u2502\n\u2502 deep_analyzer_tool      \u2502 <class 'src.tools.deep_analyzer.DeepAnalyzerTool'>           \u2502\n\u2502 deep_researcher_tool    \u2502 <class 'src.tools.deep_researcher.DeepResearcherTool'>       \u2502\n\u2502 file_reader_tool        \u2502 <class 'src.tools.file_reader.FileReaderTool'>               \u2502\n\u2502 image_generator_tool    \u2502 <class 'src.tools.image_generator.ImageGeneratorTool'>       \u2502\n\u2502 oai_deep_research_tool  \u2502 <class 'src.tools.oai_deep_research.OAIDeepResearchTool'>    \u2502\n\u2502 planning_tool           \u2502 <class 'src.tools.planning.PlanningTool'>                    \u2502\n\u2502 python_interpreter_tool \u2502 <class 'src.tools.python_interpreter.PythonInterpreterTool'> \u2502\n\u2502 video_generator_tool    \u2502 <class 'src.tools.video_generator.VideoGeneratorTool'>       \u2502\n\u2502 web_fetcher_tool        \u2502 <class 'src.tools.web_fetcher.WebFetcherTool'>               \u2502\n\u2502 web_searcher_tool       \u2502 <class 'src.tools.web_searcher.WebSearcherTool'>             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u001b[92m06:07:29 - logger:ERROR\u001b[0m: web_fetcher.py:38 - Failed to fetch content from https://www.quora.com/If-Eliud-Kipchoge-can-maintain-such-a-fast-pace-over-26-2-miles-why-can-t-he-manage-to-break-the-single-mile-world-record\n\u001b[92m06:07:29 - logger:ERROR\u001b[0m: web_fetcher.py:44 - Error fetching content: DocumentConverterResult.__init__() got an unexpected keyword argument 'markdown'\nTraceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/web_fetcher.py\", line 39, in forward\n    res = DocumentConverterResult(\n        markdown=f\"Failed to fetch content from {url}\",\n        title=\"Error\",\n    )\nTypeError: DocumentConverterResult.__init__() got an unexpected keyword argument 'markdown'\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/tests/integration/test_web_fetcher.py\", line 59, in <module>\n    content = asyncio.run(web_fetcher_tool.forward(url))\n  File \"/usr/lib/python3.13/asyncio/runners.py\", line 195, in run\n    return runner.run(main)\n           ~~~~~~~~~~^^^^^^\n  File \"/usr/lib/python3.13/asyncio/runners.py\", line 118, in run\n    return self._loop.run_until_complete(task)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"/usr/lib/python3.13/asyncio/base_events.py\", line 719, in run_until_complete\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/web_fetcher.py\", line 45, in forward\n    res = DocumentConverterResult(\n        markdown=f\"Failed to fetch content: {e}\",\n        title=\"Error\",\n    )\nTypeError: DocumentConverterResult.__init__() got an unexpected keyword argument 'markdown'\nException ignored in: <function BaseSubprocessTransport.__del__ at 0x7857af9d0900>\nTraceback (most recent call last):\n  File \"/usr/lib/python3.13/asyncio/base_subprocess.py\", line 130, in __del__\n    self.close()\n  File \"/usr/lib/python3.13/asyncio/base_subprocess.py\", line 107, in close\n    proto.pipe.close()\n  File \"/usr/lib/python3.13/asyncio/unix_events.py\", line 802, in close\n    self.write_eof()\n  File \"/usr/lib/python3.13/asyncio/unix_events.py\", line 788, in write_eof\n    self._loop.call_soon(self._call_connection_lost, None)\n  File \"/usr/lib/python3.13/asyncio/base_events.py\", line 827, in call_soon\n    self._check_closed()\n  File \"/usr/lib/python3.13/asyncio/base_events.py\", line 550, in _check_closed\n    raise RuntimeError('Event loop is closed')\nRuntimeError: Event loop is closed\n",
      "duration": 5.599050283432007,
      "success": false
    },
    "test_image_generator.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_image_generator.py",
      "description": "Integration Test: test_image_generator.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\nError: 'PlaceholderModel' object is not callable\n",
      "stderr": "\u001b[92m06:07:34 - logger:INFO\u001b[0m: test_image_generator.py:45 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:07:34 - logger:INFO\u001b[0m: test_image_generator.py:46 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:07:34 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:07:35 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:07:35 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:07:35 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:07:35 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:585 - Using local proxy for LangChain models\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:678 - Using local proxy for DeepSeek models\n\u001b[92m06:07:36 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:36 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:36 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:07:36 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:07:36 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 25 models\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: test_image_generator.py:51 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, deepseek-chat, deepseek-reasoner, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n\u001b[92m06:07:36 - logger:INFO\u001b[0m: test_image_generator.py:54 - |                                      Registry of tool                                     \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Names                   \u2503 Objects                                                      \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 auto_browser_use_tool   \u2502 <class 'src.tools.auto_browser.AutoBrowserUseTool'>          \u2502\n\u2502 deep_analyzer_tool      \u2502 <class 'src.tools.deep_analyzer.DeepAnalyzerTool'>           \u2502\n\u2502 deep_researcher_tool    \u2502 <class 'src.tools.deep_researcher.DeepResearcherTool'>       \u2502\n\u2502 file_reader_tool        \u2502 <class 'src.tools.file_reader.FileReaderTool'>               \u2502\n\u2502 image_generator_tool    \u2502 <class 'src.tools.image_generator.ImageGeneratorTool'>       \u2502\n\u2502 oai_deep_research_tool  \u2502 <class 'src.tools.oai_deep_research.OAIDeepResearchTool'>    \u2502\n\u2502 planning_tool           \u2502 <class 'src.tools.planning.PlanningTool'>                    \u2502\n\u2502 python_interpreter_tool \u2502 <class 'src.tools.python_interpreter.PythonInterpreterTool'> \u2502\n\u2502 video_generator_tool    \u2502 <class 'src.tools.video_generator.VideoGeneratorTool'>       \u2502\n\u2502 web_fetcher_tool        \u2502 <class 'src.tools.web_fetcher.WebFetcherTool'>               \u2502\n\u2502 web_searcher_tool       \u2502 <class 'src.tools.web_searcher.WebSearcherTool'>             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u001b[92m06:07:47 - logger:WARNING\u001b[0m: image_generator.py:126 - ImageGeneratorTool failed to generate an optimized prompt: ChatMessage(role='assistant', content='\"Create a vivid image of a bustling futuristic city skyline bathed in the warm hues of sunset. The scene should feature sleek, aerodynamic flying cars gliding gracefully through the air, casting long shadows on the towering skyscrapers below. The buildings should be adorned with vibrant, pulsating neon lights in shades of electric blue, neon green, and deep purple, creating a mesmerizing glow against the backdrop of the twilight sky. Include intricate details such as reflections on glass surfaces, the texture of building facades, and the dynamic movement of clouds tinged with orange and pink.\"', tool_calls=None, raw=ChatCompletionOutput(choices=[ChatCompletionOutputComplete(finish_reason='stop', index=0, message=ChatCompletionOutputMessage(role='assistant', content='\"Create a vivid image of a bustling futuristic city skyline bathed in the warm hues of sunset. The scene should feature sleek, aerodynamic flying cars gliding gracefully through the air, casting long shadows on the towering skyscrapers below. The buildings should be adorned with vibrant, pulsating neon lights in shades of electric blue, neon green, and deep purple, creating a mesmerizing glow against the backdrop of the twilight sky. Include intricate details such as reflections on glass surfaces, the texture of building facades, and the dynamic movement of clouds tinged with orange and pink.\"', tool_call_id=None, tool_calls=None), logprobs=None)], created=1758060457067, id='2305c4b3-46ba-4288-8f15-1e15a314f3ac', model='Qwen/Qwen2.5-32B-Instruct', system_fingerprint='', usage=ChatCompletionOutputUsage(completion_tokens=116, prompt_tokens=99, total_tokens=215), object='chat.completion'), token_usage=TokenUsage(input_tokens=99, output_tokens=116, total_tokens=215))\n\u001b[92m06:07:47 - logger:ERROR\u001b[0m: image_generator.py:162 - Image generation failed: 'PlaceholderModel' object is not callable\n",
      "duration": 18.151692152023315,
      "success": true
    },
    "test_models.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_models.py",
      "description": "Integration Test: test_models.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\nChatMessage(role='assistant', content=\"This riddle involves a clever trick with probability and logic. Let's break down the solution step-by-step:\\n\\nGiven:\\n- There are 200 coins total.\\n- Out of these, 30 coins are face-up (and thus 170 are face-down).\\n- The adventurer must divide the coins into two piles such that each pile has an equal number of face-down coins.\\n\\nThe adventurer picks any 30 coins out of the 200 and flips them all over. This action will affect the number of face-up and face-down coins in this smaller pile of 30 coins but will not change the total number of face-down coins across both piles.\\n\\nLet's denote:\\n- \\\\( x \\\\) as the number of face-up coins among the 30 picked.\\n- Therefore, \\\\( 30 - x \\\\) would be the number of face-down coins among the 30 picked.\\n\\nAfter flipping these 30 coins:\\n- The \\\\( x \\\\) face-up coins become face-down.\\n- The \\\\( 30 - x \\\\) face-down coins become face-up.\\n\\nNow, let's analyze the two piles:\\n1. **Pile A**: Contains the 30 flipped coins.\\n   - Initially had \\\\( x \\\\) face-up coins and \\\\( 30 - x \\\\) face-down coins.\\n   - After flipping, it now has \\\\( x \\\\) face-down coins and \\\\( 30 - x \\\\) face-up coins.\\n\\n2. **Pile B**: Contains the remaining 170 coins.\\n   - Initially had \\\\( 30 - x \\\\) face-up coins and \\\\( 170 - (30 - x) = 140 + x \\\\) face-down coins.\\n   - Since no coins were flipped in this pile, it still has \\\\( 30 - x \\\\) face-up coins and \\\\( 140 + x \\\\) face-down coins.\\n\\nTo ensure both piles have an equal number of face-down coins:\\n- Pile A has \\\\( x \\\\) face-down coins.\\n- Pile B has \\\\( 140 + x \\\\) face-down coins.\\n\\nFor the number of face-down coins to be equal in both piles:\\n\\\\[ x = 140 + x \\\\]\\n\\nHowever, this equation does not hold true directly. Instead, we need to consider the given condition that the larger pile (which is Pile B with 170 coins) has 14 face-down coins. This implies:\\n\\\\[ 140 + x = 14 \\\\]\\n\\\\[ x = 14 - 140 \\\\]\\n\\\\[ x = -126 \\\\]\\n\\nThis negative value indicates an error in direct interpretation. Instead, we should recognize that the problem setup ensures the correct distribution through the flipping mechanism.\\n\\nSince the larger pile (170 coins) has 14 face-down coins, the smaller pile (30 coins) must also have 14 face-down coins due to the flipping operation.\\n\\nThus, the adventurer successfully divides the coins into two piles with an equal number of face-down coins. The outcome for the adventurer is positive; they did not die and won the game by achieving the required condition.\", tool_calls=None, raw=ChatCompletionOutput(choices=[ChatCompletionOutputComplete(finish_reason='stop', index=0, message=ChatCompletionOutputMessage(role='assistant', content=\"This riddle involves a clever trick with probability and logic. Let's break down the solution step-by-step:\\n\\nGiven:\\n- There are 200 coins total.\\n- Out of these, 30 coins are face-up (and thus 170 are face-down).\\n- The adventurer must divide the coins into two piles such that each pile has an equal number of face-down coins.\\n\\nThe adventurer picks any 30 coins out of the 200 and flips them all over. This action will affect the number of face-up and face-down coins in this smaller pile of 30 coins but will not change the total number of face-down coins across both piles.\\n\\nLet's denote:\\n- \\\\( x \\\\) as the number of face-up coins among the 30 picked.\\n- Therefore, \\\\( 30 - x \\\\) would be the number of face-down coins among the 30 picked.\\n\\nAfter flipping these 30 coins:\\n- The \\\\( x \\\\) face-up coins become face-down.\\n- The \\\\( 30 - x \\\\) face-down coins become face-up.\\n\\nNow, let's analyze the two piles:\\n1. **Pile A**: Contains the 30 flipped coins.\\n   - Initially had \\\\( x \\\\) face-up coins and \\\\( 30 - x \\\\) face-down coins.\\n   - After flipping, it now has \\\\( x \\\\) face-down coins and \\\\( 30 - x \\\\) face-up coins.\\n\\n2. **Pile B**: Contains the remaining 170 coins.\\n   - Initially had \\\\( 30 - x \\\\) face-up coins and \\\\( 170 - (30 - x) = 140 + x \\\\) face-down coins.\\n   - Since no coins were flipped in this pile, it still has \\\\( 30 - x \\\\) face-up coins and \\\\( 140 + x \\\\) face-down coins.\\n\\nTo ensure both piles have an equal number of face-down coins:\\n- Pile A has \\\\( x \\\\) face-down coins.\\n- Pile B has \\\\( 140 + x \\\\) face-down coins.\\n\\nFor the number of face-down coins to be equal in both piles:\\n\\\\[ x = 140 + x \\\\]\\n\\nHowever, this equation does not hold true directly. Instead, we need to consider the given condition that the larger pile (which is Pile B with 170 coins) has 14 face-down coins. This implies:\\n\\\\[ 140 + x = 14 \\\\]\\n\\\\[ x = 14 - 140 \\\\]\\n\\\\[ x = -126 \\\\]\\n\\nThis negative value indicates an error in direct interpretation. Instead, we should recognize that the problem setup ensures the correct distribution through the flipping mechanism.\\n\\nSince the larger pile (170 coins) has 14 face-down coins, the smaller pile (30 coins) must also have 14 face-down coins due to the flipping operation.\\n\\nThus, the adventurer successfully divides the coins into two piles with an equal number of face-down coins. The outcome for the adventurer is positive; they did not die and won the game by achieving the required condition.\", tool_call_id=None, tool_calls=None), logprobs=None)], created=1758060475177, id='a29d4f2b-fbe4-4bb0-abfa-d1e587410c47', model='Qwen/Qwen2.5-32B-Instruct', system_fingerprint='', usage=ChatCompletionOutputUsage(completion_tokens=659, prompt_tokens=75, total_tokens=734), object='chat.completion'), token_usage=TokenUsage(input_tokens=75, output_tokens=659, total_tokens=734))\n",
      "stderr": "\u001b[92m06:07:52 - logger:INFO\u001b[0m: test_models.py:73 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:07:52 - logger:INFO\u001b[0m: test_models.py:74 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:07:52 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:585 - Using local proxy for LangChain models\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:678 - Using local proxy for DeepSeek models\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:07:54 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 25 models\n\u001b[92m06:07:54 - logger:INFO\u001b[0m: test_models.py:79 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, deepseek-chat, deepseek-reasoner, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n",
      "duration": 56.991435527801514,
      "success": true
    },
    "test_python_interpreter.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_python_interpreter.py",
      "description": "Integration Test: test_python_interpreter.py",
      "returncode": 0,
      "stdout": "Stdout:\n\nOutput: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34]\nSUCCESS: Fibonacci sequence validation passed\n",
      "stderr": "",
      "duration": 5.366342544555664,
      "success": true
    },
    "test_dataset.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_dataset.py",
      "description": "Integration Test: test_dataset.py",
      "returncode": 1,
      "stdout": "ERROR    [datasets.load] `trust_remote_code` is not supported anymore.\nPlease check that the Hugging Face dataset '/home/kkk/Apps/DeepResearchAgent/tests/data/hle' isn't based on a loading script and remove `trust_remote_code`.\nIf the dataset is based on a loading script, please ask the dataset author to remove it and convert it to a standard format like Parquet.\n",
      "stderr": "`trust_remote_code` is not supported anymore.\nPlease check that the Hugging Face dataset '/home/kkk/Apps/DeepResearchAgent/tests/data/hle' isn't based on a loading script and remove `trust_remote_code`.\nIf the dataset is based on a loading script, please ask the dataset author to remove it and convert it to a standard format like Parquet.\nTraceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/tests/integration/test_dataset.py\", line 19, in <module>\n    dataset = HLEDataset(path=os.path.join(root, \"data\", \"hle\"), split=\"test\", name=\"hle\")\n  File \"/home/kkk/Apps/DeepResearchAgent/src/dataset/huggingface.py\", line 49, in __init__\n    ds = datasets.load_dataset(path, trust_remote_code=True)[split]\n         ~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/datasets/load.py\", line 1392, in load_dataset\n    builder_instance = load_dataset_builder(\n        path=path,\n    ...<10 lines>...\n        **config_kwargs,\n    )\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/datasets/load.py\", line 1132, in load_dataset_builder\n    dataset_module = dataset_module_factory(\n        path,\n    ...<5 lines>...\n        cache_dir=cache_dir,\n    )\n  File \"/home/kkk/Apps/DeepResearchAgent/.venv/lib/python3.13/site-packages/datasets/load.py\", line 1033, in dataset_module_factory\n    raise FileNotFoundError(f\"Couldn't find any data file at {relative_to_absolute_path(path)}.\")\nFileNotFoundError: Couldn't find any data file at /home/kkk/Apps/DeepResearchAgent/tests/data/hle.\n",
      "duration": 5.553691625595093,
      "success": false
    },
    "test_video_generator.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_video_generator.py",
      "description": "Integration Test: test_video_generator.py",
      "returncode": 0,
      "stdout": "INFO     [src.models.cli_detector] CLI Tool Detection Results:\nINFO     [src.models.cli_detector] \u2705 claude_code_cli: Available\nINFO     [src.models.cli_detector]    Version: claude-code-cli\nINFO     [src.models.cli_detector] \u2705 gemini_cli: Available\nINFO     [src.models.cli_detector]    Account: kairin@gmail.com\nINFO     [src.models.cli_detector] Available CLI model mappings:\nINFO     [src.models.cli_detector]   claude-3.7-sonnet-thinking \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude37-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   claude-4-sonnet \u2192 claude-code-cli\nINFO     [src.models.cli_detector]   gemini-2.5-pro \u2192 gemini-cli\nINFO     [src.models.cli_detector]   gemini-vision \u2192 gemini-cli\nINFO     [src.models.api_validator] API Validation Complete. Available providers: ['local']\nWARNING  [src.models.api_validator] OpenAI issues: ['API Key: OPENAI_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Anthropic issues: ['API Key: ANTHROPIC_API_KEY is placeholder or empty']\nWARNING  [src.models.api_validator] Google issues: ['Either GOOGLE_API_KEY or GOOGLE_APPLICATION_CREDENTIALS required']\nError: 'PlaceholderModel' object is not callable\n",
      "stderr": "\u001b[92m06:09:00 - logger:INFO\u001b[0m: test_video_generator.py:45 - | Logger initialized at: /home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt\n\u001b[92m06:09:00 - logger:INFO\u001b[0m: test_video_generator.py:46 - | Config:\nagent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nauto_browser_use_tool_config = dict(\n    model_id='gpt-4.1', type='auto_browser_use_tool')\nconcurrency = 4\ndeep_analyzer_tool_config = dict(\n    analyzer_model_ids=[\n        'gemini-2.5-pro',\n    ],\n    summarizer_model_id='gemini-2.5-pro',\n    type='deep_analyzer_tool')\ndeep_researcher_tool_config = dict(\n    max_depth=2,\n    max_follow_ups=3,\n    max_insights=20,\n    model_id='gpt-4.1',\n    time_limit_seconds=60,\n    type='deep_researcher_tool')\nexp_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general'\nfile_reader_tool_config = dict(type='file_reader_tool')\ngeneral_agent_config = dict(\n    description='A general agent that can handle various tasks.',\n    max_steps=20,\n    mcp_tools=[\n        'calculate_average_of_deviations',\n        'calculate_statistical_average',\n        'get_wikipedia_page_revision_history',\n        'find_first_year_for_date',\n        'count_letter_frequency',\n        'calculate_remaining_letters',\n        'find_needed_letters',\n        'solve_annotator_error_puzzle',\n        'count_objects_in_image',\n        'verify_and_correct_isbn13',\n        'calculate_offspring_genotype_probabilities',\n        'format_as_percentage',\n        'count_next_door_neighbors',\n        'calculate_antipodal_coordinates',\n        'get_street_view_direction_of_object',\n        'execute_code_in_virtual_environment',\n        'find_book_title',\n        'calculate_final_beaker_weight',\n    ],\n    model_id='gpt-4.1',\n    name='general_agent',\n    provide_run_summary=True,\n    template_path='src/agent/general_agent/prompts/general_agent.yaml',\n    tools=[\n        'python_interpreter_tool',\n        'image_generator_tool',\n        'video_generator_tool',\n    ],\n    type='general_agent')\nimage_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    generator_model_id='imagen',\n    type='image_generator_tool')\nlog_path = '/home/kkk/Apps/DeepResearchAgent/workdir/general/log.txt'\nmcp_tools_config = dict(\n    mcpServers=dict(\n        LocalMCP=dict(\n            args=[\n                '/home/kkk/Apps/DeepResearchAgent/src/mcp/server.py',\n            ],\n            command='python',\n            env=dict(DEBUG='true'))))\noai_deep_research_tool_config = dict(\n    model_id='o3-deep-research', type='oai_deep_research_tool')\ntag = 'general'\nuse_hierarchical_agent = False\nuse_local_proxy = False\nvideo_generator_tool_config = dict(\n    analyzer_model_id='o3',\n    fetch_model_id='veo3-fetch',\n    predict_model_id='veo3-predict',\n    type='video_generator_tool')\nweb_fetcher_tool_config = dict(type='web_fetcher_tool')\nweb_searcher_tool_config = dict(\n    country='us',\n    engine='Firecrawl',\n    fetch_content=True,\n    lang='en',\n    max_length=4096,\n    max_retries=3,\n    num_results=5,\n    retry_delay=10,\n    type='web_searcher_tool')\nworkdir = 'workdir'\n\n\u001b[92m06:09:00 - logger:INFO\u001b[0m: models.py:41 - Detecting CLI tools...\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: cli_models.py:348 - Registered Claude Code CLI models\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: cli_models.py:356 - Registered Gemini CLI models\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-code-cli\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude-3.7-sonnet-thinking\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: claude37-sonnet\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-cli\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:49 - Registered CLI model: gemini-2.5-pro\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:52 - Validating API configurations...\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:89 - Skipping OpenAI models - configuration invalid\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:97 - Skipping Anthropic models - configuration invalid\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:106 - Skipping Google models - configuration invalid\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:585 - Using local proxy for LangChain models\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:678 - Using local proxy for DeepSeek models\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:188 - Local API base SKYWORK_DEEPSEEK_API_BASE is not set, using remote API base SKYWORK_API_BASE\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'claude-4-sonnet' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gemini-vision' -> 'qwen2.5-14b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4.1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'gpt-4o' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o1' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:154 - Aliased 'o3-deep-research' -> 'qwen2.5-32b-instruct'\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'imagen' -> 'local-image-placeholder'\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-predict' -> 'local-video-placeholder'\n\u001b[92m06:09:02 - logger:WARNING\u001b[0m: models.py:158 - Created placeholder for 'veo3-fetch' -> 'local-video-placeholder'\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: models.py:77 - Successfully registered 25 models\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: test_video_generator.py:51 - Registed models: claude-code-cli, claude-3.7-sonnet-thinking, claude37-sonnet, gemini-cli, gemini-2.5-pro, qwen2.5-7b-instruct, qwen2.5-14b-instruct, qwen2.5-32b-instruct, Qwen, Qwen-VL, langchain-gpt-4o, langchain-gpt-4.1, langchain-o3, deepseek-chat, deepseek-reasoner, claude-4-sonnet, gemini-vision, gpt-4.1, gpt-4o, o1, o3, o3-deep-research, imagen, veo3-predict, veo3-fetch\n\u001b[92m06:09:02 - logger:INFO\u001b[0m: test_video_generator.py:54 - |                                      Registry of tool                                     \n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503 Names                   \u2503 Objects                                                      \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 auto_browser_use_tool   \u2502 <class 'src.tools.auto_browser.AutoBrowserUseTool'>          \u2502\n\u2502 deep_analyzer_tool      \u2502 <class 'src.tools.deep_analyzer.DeepAnalyzerTool'>           \u2502\n\u2502 deep_researcher_tool    \u2502 <class 'src.tools.deep_researcher.DeepResearcherTool'>       \u2502\n\u2502 file_reader_tool        \u2502 <class 'src.tools.file_reader.FileReaderTool'>               \u2502\n\u2502 image_generator_tool    \u2502 <class 'src.tools.image_generator.ImageGeneratorTool'>       \u2502\n\u2502 oai_deep_research_tool  \u2502 <class 'src.tools.oai_deep_research.OAIDeepResearchTool'>    \u2502\n\u2502 planning_tool           \u2502 <class 'src.tools.planning.PlanningTool'>                    \u2502\n\u2502 python_interpreter_tool \u2502 <class 'src.tools.python_interpreter.PythonInterpreterTool'> \u2502\n\u2502 video_generator_tool    \u2502 <class 'src.tools.video_generator.VideoGeneratorTool'>       \u2502\n\u2502 web_fetcher_tool        \u2502 <class 'src.tools.web_fetcher.WebFetcherTool'>               \u2502\n\u2502 web_searcher_tool       \u2502 <class 'src.tools.web_searcher.WebSearcherTool'>             \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\n\u001b[92m06:09:20 - logger:WARNING\u001b[0m: video_generator.py:159 - VideoGeneratorTool failed to generate an optimized prompt: ChatMessage(role='assistant', content=\"Generate a charming scene featuring a tiny, fluffy kitten with big, expressive eyes wearing a delicate pink dress adorned with lace and a bow. The kitten is playfully batting at a colorful cat teaser toy, which consists of a long, flexible wand with a feather and a small, jingling bell attached at the end. The background should be a cozy living room with soft lighting, creating a warm and inviting atmosphere. Capture the kitten's joyful movements and the slight flutter of the feathers as it interacts with the toy, emphasizing the playful and endearing nature of the scene.\", tool_calls=None, raw=ChatCompletionOutput(choices=[ChatCompletionOutputComplete(finish_reason='stop', index=0, message=ChatCompletionOutputMessage(role='assistant', content=\"Generate a charming scene featuring a tiny, fluffy kitten with big, expressive eyes wearing a delicate pink dress adorned with lace and a bow. The kitten is playfully batting at a colorful cat teaser toy, which consists of a long, flexible wand with a feather and a small, jingling bell attached at the end. The background should be a cozy living room with soft lighting, creating a warm and inviting atmosphere. Capture the kitten's joyful movements and the slight flutter of the feathers as it interacts with the toy, emphasizing the playful and endearing nature of the scene.\", tool_call_id=None, tool_calls=None), logprobs=None)], created=1758060550191, id='6063fc7b-0d44-4a1d-bba4-cf6bc9cbef9c', model='Qwen/Qwen2.5-32B-Instruct', system_fingerprint='', usage=ChatCompletionOutputUsage(completion_tokens=114, prompt_tokens=100, total_tokens=214), object='chat.completion'), token_usage=TokenUsage(input_tokens=100, output_tokens=114, total_tokens=214))\n\u001b[92m06:09:20 - logger:ERROR\u001b[0m: video_generator.py:216 - Video generation failed: 'PlaceholderModel' object is not callable\n",
      "duration": 25.06770920753479,
      "success": true
    },
    "test_browser_use.py": {
      "command": "uv run python /home/kkk/Apps/DeepResearchAgent/tests/integration/test_browser_use.py",
      "description": "Integration Test: test_browser_use.py",
      "returncode": 1,
      "stdout": "Shutting down http.server...\n",
      "stderr": "Traceback (most recent call last):\n  File \"/home/kkk/Apps/DeepResearchAgent/tests/integration/test_browser_use.py\", line 48, in <module>\n    res = loop.run_until_complete(tool.forward(task=task3))\n  File \"/usr/lib/python3.13/asyncio/base_events.py\", line 719, in run_until_complete\n    return future.result()\n           ~~~~~~~~~~~~~^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/auto_browser.py\", line 101, in forward\n    result = await self._browser_task(task)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/home/kkk/Apps/DeepResearchAgent/src/tools/auto_browser.py\", line 78, in _browser_task\n    model = model_manager.registed_models[model_id]\n            ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^\nKeyError: 'langchain-gpt-4.1'\n",
      "duration": 5.380496501922607,
      "success": false
    }
  }
}